import x from"./Athlete-a34bbeaf.js";import y from"./AthleteSm-33d97679.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import{$ as k,m as v,o as n,f as r,b as a,F as h,p as u,t as m,c as f,g as $,n as B,q as S,s as R}from"./app-d9f75028.js";const g=1e3,b=1e3,A={name:"DrawRrb",props:{athletes:{type:Array,required:!0}},components:{Athlete:x,AthleteSm:y},mounted(){k(()=>{const o=window.document.getElementById(`athlete-${this.athletes[0].seat}`).getBoundingClientRect();for(let e=0;e<this.athletes.length;++e)setTimeout(()=>{this.animateHandler(e,o)},b*e),setTimeout(()=>{this.athletes[e].placed=!0},b*e+g)})},computed:{pendingAthletes(){return this.athletes.filter(s=>!s.placed)},athleteInSeat(){return s=>{const o=this.athletes.find(e=>e.seat===s);if(o)return o.placed?o:null}}},methods:{animateHandler(s,o){const e=window.document.getElementById(`athlete-${this.athletes[s].seat}`),_=window.document.getElementById(`seat-${this.athletes[s].seat}`);e.style.position="fixed",e.style.transformOrigin="center";const d=o,l=_.getBoundingClientRect();e.style.width=l.width+"px",this.athletes.length>32&&(e.style.width=l.width*2+"px");const i=window.innerWidth/2-d.x-l.width/2,t=window.innerHeight/2-d.y-l.height/2;console.log("src",d.x,d.y);const c=l.x-d.x,p=l.y-d.y;console.log("dest",l.x,l.y),console.log("delta",c,p),e.animate([{transform:"translate(0, 0)"},{transform:`translate(${i}px, ${t}px) scale(2)`},{transform:`translate(${i}px, ${t}px) scale(2)`},{transform:`translate(${i}px, ${t}px) scale(2)`},{transform:`translate(${c}px, ${p}px) scale(1)`}],{duration:g,easing:"ease-in-out",fill:"backwards"})}}},w=s=>(S("data-v-63835990"),s=s(),R(),s),E={class:"h-full flex-col justify-between"},C={class:"p-6 rounded-lgbackdrop-blur"},N={class:"w-full text-xl border bg-white border-collapse border-black rounded-lg"},D=w(()=>a("th",{class:"h-20"},null,-1)),M=w(()=>a("th",{class:"w-96"},null,-1)),T={class:"border bg-amber-300 border-black"},H={class:"h-20 w-16 border border-black bg-amber-300"},P={class:"border border-black h-20 p-0"},j=["id"],q={class:"overflow-clip flex items-center justify-center"},F={class:"h-20 mt-16 overflow-clip grid grid-cols-1 gap-2 pending-athlete-list"};function V(s,o,e,_,d,l){const i=v("athlete");return n(),r("div",E,[a("div",C,[a("table",N,[a("thead",null,[a("tr",null,[D,M,(n(!0),r(h,null,u(e.athletes.length,t=>(n(),r("th",T,m(t),1))),256))])]),a("tbody",null,[(n(!0),r(h,null,u(e.athletes.length,t=>(n(),r("tr",null,[a("th",H,m(t),1),a("td",P,[a("div",{class:"w-full h-full",id:`seat-${t}`},[l.athleteInSeat(t)?(n(),f(i,{key:0,athlete:l.athleteInSeat(t)},null,8,["athlete"])):$("",!0)],8,j)]),(n(!0),r(h,null,u(e.athletes.length,c=>(n(),r("td",{class:B(["border border-black w-52",{disabled:t===c}])},null,2))),256))]))),256))])])]),a("div",q,[a("div",F,[(n(!0),r(h,null,u(l.pendingAthletes,t=>(n(),f(i,{athlete:t,class:"w-96 h-20 rounded-lg p-1",id:`athlete-${t.seat}`},null,8,["athlete","id"]))),256))])])])}const L=I(A,[["render",V],["__scopeId","data-v-63835990"]]);export{L as default};
