import{A as L}from"./AdminLayout-ab9d13cb.js";import{m as c,o as r,f as _,a as e,w as n,F as x,b as i,n as k,d as o,t as b,p as U,g as y}from"./app-d9f75028.js";import{h as S}from"./moment-a9aaa855.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";import"./judoka-logo-eef90ab5.js";import"./VideoCameraOutlined-6422ac09.js";const M={components:{AdminLayout:L},props:["competition","competition_categories","countries","gameTypes","languages"],data(){return{dateFormat:"YYYY-MM-DD",disabledDate:null,tmpContestTime:null,setting_index:0,columns:[{title:"Name",dataIndex:"name"},{title:"Country",dataIndex:"country"},{title:"Date Start",dataIndex:"date_start"},{title:"Date End",dataIndex:"date_end"},{title:"Mat Number",dataIndex:"mat_number"},{title:"Section Number",dataIndex:"section_number"},{title:"Status",dataIndex:"status"},{title:"Operation",dataIndex:"operation"}],rules:{country:{required:!0},name:{required:!0},name_secondary:{required:!0},date_start:{required:!0},date_end:{required:!0},days:{required:!0},mat_number:{required:!0},language:{required:!0},language_secondary:{required:!0},section_number:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}}}},computed:{selectLanguage(){return this.languages.map(d=>(console.log(d),d.value==this.competition.competition_type.language||d.value==this.competition.competition_type.language_secondary?{...d,disabled:!0}:d))}},created(){this.disabledDate=d=>!this.competition.date_start&&!this.competition.date_end?!1:d<S(this.competition.date_start).valueOf()||d>S(this.competition.date_end).valueOf(),this.endDateDisabled=d=>this.competition.date_start?d<S(this.competition.date_start).valueOf():!1},methods:{addTimeToForm(){this.competition.days.includes(this.tmpContestTime)||!this.tmpContestTime||this.competition.days.push(this.tmpContestTime)},removeTimeFromForm(d){this.competition.days=this.competition.days.filter(l=>l!==d)},changeWeightFormat(d,l){return d.filter(t=>t.includes(l)).map(t=>{let f=t.replace(l,"");return f.includes("-")?(f=f.replace("-",""),`-${f}kg`):f.includes("+")?(f=f.replace("+",""),`+${f}kg`):f}).join(",")},onUpdate(){this.$refs.formRef.validateFields().then(()=>{this.$inertia.put(route("manage.competitions.update",this.competition.id),this.competition,{onSuccess:d=>{this.competition={}},onError:d=>{console.log(d)}}),console.log("values",this.competition,this.competition)}).catch(d=>{console.log("error",d)})},changeSettingIndex(d){this.$refs.formRef.validateFields().then(()=>{this.setting_index=d})}}},Y={class:"py-12 mx-8"},E=i("div",{class:"mb-8 flex justify-between"},[i("div",{class:"text-xl font-bold"},"Competition Edit")],-1),V={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg flex"},j={class:"border-r-2 border-gray-300 shrink-0 py-2 px-2"},B={class:"flex flex-col font-bold text-lg gap-2"},O={class:"w-full p-4"},A={class:"flex flex-col"},W={key:0,class:"flex flex-col"},z={class:""},K={class:"flex justify-between gap-3"},Q={class:"w-full"},G={class:""},P={class:""},H={class:"flex justify-between gap-3"},J={class:"w-full"},X={class:"w-full"},Z={class:"w-full"},$={class:"w-full"},ee={class:"w-full"},te={class:"w-full flex-col"},ae={class:"flex-1 font-bold"},le={class:"flex gap-3 mb-2"},ne={class:""},ie={key:1,class:"flex flex-col"},oe={class:""},se={class:""},de={class:""},ue={key:0,class:""},me={class:""},re={class:""},_e={key:1,class:""},ce={class:""},ve={class:""},fe={key:2,class:""},ge={class:""},pe={class:""},ye={class:"flex gap-3"},be=i("div",{class:""},"2 players",-1),he={class:"flex gap-3"},xe=i("div",{class:""},"3 players",-1),ke={class:"flex gap-3"},we=i("div",{class:""},"4 players",-1),Ce={class:"flex gap-3"},Fe=i("div",{class:""},"5 players",-1),Ue={key:3,class:""},Se={class:""},Te={class:"flex justify-between gap-3"},De={class:"w-full flex flex-col"},qe={class:"w-full"},Ne={key:0,class:""},Ie={class:"w-full flex flex-col"},Le={class:""},Re={key:0,class:""},Me={class:"flex justify-end h-full"};function Ye(d,l,t,f,m,v){const T=c("inertia-head"),p=c("a-button"),s=c("a-form-item"),h=c("a-input"),w=c("a-select"),C=c("a-date-picker"),F=c("a-input-number"),D=c("a-textarea"),u=c("a-radio"),g=c("a-radio-group"),q=c("a-switch"),N=c("a-form"),I=c("AdminLayout");return r(),_(x,null,[e(T,{title:"Competition Edit"}),e(I,null,{default:n(()=>[i("div",Y,[E,i("div",V,[i("div",j,[i("div",B,[i("div",null,[e(p,{type:"text",class:k(["text-lg font-bold flex items-center py-4",m.setting_index==0?"bg-gray-300":""]),onClick:l[0]||(l[0]=a=>v.changeSettingIndex(0))},{default:n(()=>[o("Basie information")]),_:1},8,["class"])]),i("div",null,[e(p,{type:"text",class:k(["text-lg font-bold flex items-center py-4",m.setting_index==1?"bg-gray-300":""]),onClick:l[1]||(l[1]=a=>v.changeSettingIndex(1))},{default:n(()=>[o("Category Setting")]),_:1},8,["class"])]),i("div",null,[e(p,{type:"text",class:k(["text-lg font-bold flex items-center py-4",m.setting_index==2?"bg-gray-300":""]),onClick:l[2]||(l[2]=a=>v.changeSettingIndex(2))},{default:n(()=>[o("System Setting")]),_:1},8,["class"])]),i("div",null,[e(p,{type:"text",class:k(["text-lg font-bold flex items-center py-4",m.setting_index==3?"bg-gray-300":""]),onClick:l[3]||(l[3]=a=>v.changeSettingIndex(3))},{default:n(()=>[o("Language Setting")]),_:1},8,["class"])])])]),i("div",O,[e(N,{name:"ModalForm",ref:"formRef",model:t.competition,layout:"vertical",autocomplete:"off",rules:m.rules,"validate-messages":m.validateMessages},{default:n(()=>[i("div",A,[m.setting_index==0?(r(),_("div",W,[i("div",z,[e(s,{label:"Competition Type",name:"game_type_id"},{default:n(()=>[o(b(t.competition.competition_type.name),1)]),_:1})]),i("div",K,[i("div",Q,[e(s,{label:"Competition Name",name:"name"},{default:n(()=>[e(h,{type:"input",value:t.competition.name,"onUpdate:value":l[4]||(l[4]=a=>t.competition.name=a)},null,8,["value"])]),_:1})])]),i("div",G,[e(s,{label:"Country",name:"country"},{default:n(()=>[e(w,{value:t.competition.country,"onUpdate:value":l[5]||(l[5]=a=>t.competition.country=a),"show-search":"",options:t.countries,fieldNames:{value:"name",label:"name"}},null,8,["value","options"])]),_:1})]),i("div",P,[e(s,{label:"City",name:"city"},{default:n(()=>[e(h,{class:"",type:"input",value:t.competition.scale,"onUpdate:value":l[6]||(l[6]=a=>t.competition.scale=a)},null,8,["value"])]),_:1})]),i("div",H,[i("div",J,[e(s,{label:"Start Date",name:"date_start"},{default:n(()=>[e(C,{value:t.competition.date_start,"onUpdate:value":l[7]||(l[7]=a=>t.competition.date_start=a),format:m.dateFormat,valueFormat:m.dateFormat},null,8,["value","format","valueFormat"])]),_:1})]),i("div",X,[e(s,{label:"End Date",name:"date_end"},{default:n(()=>[e(C,{value:t.competition.date_end,"onUpdate:value":l[8]||(l[8]=a=>t.competition.date_end=a),format:m.dateFormat,"disabled-date":d.endDateDisabled,valueFormat:m.dateFormat},null,8,["value","format","disabled-date","valueFormat"])]),_:1})]),i("div",Z,[e(s,{label:"Mat Number",name:"mat_number"},{default:n(()=>[e(F,{value:t.competition.mat_number,"onUpdate:value":l[9]||(l[9]=a=>t.competition.mat_number=a),style:{width:"150px"},min:1},null,8,["value"])]),_:1})]),i("div",$,[e(s,{label:"Section Number",name:"section_number"},{default:n(()=>[e(F,{value:t.competition.section_number,"onUpdate:value":l[10]||(l[10]=a=>t.competition.section_number=a),style:{width:"150px"},min:1},null,8,["value"])]),_:1})]),i("div",ee,[e(s,{label:"Referee Number",name:"referee_number"},{default:n(()=>[e(F,{vlaue:t.competition.referee_number,"onUpdate:vlaue":l[11]||(l[11]=a=>t.competition.referee_number=a),style:{width:"150px"},defaultValue:"1",min:1},null,8,["vlaue"])]),_:1})])]),i("div",te,[e(s,{label:"Days",name:"days"},{default:n(()=>[(r(!0),_(x,null,U(t.competition.days,a=>(r(),_("div",{class:"rounded shadow border p-2 w-72 flex items-center mb-2",key:a},[i("div",ae,b(a),1),i("div",null,[e(p,{type:"link",danger:"",onClick:Ee=>v.removeTimeFromForm(a)},{default:n(()=>[o("Remove")]),_:2},1032,["onClick"])])]))),128))]),_:1}),i("div",le,[e(C,{disabled:!t.competition.date_start||!t.competition.date_end,value:m.tmpContestTime,"onUpdate:value":l[12]||(l[12]=a=>m.tmpContestTime=a),"disabled-date":m.disabledDate,"value-format":"YYYY-MM-DD"},null,8,["disabled","value","disabled-date"]),e(p,{onClick:v.addTimeToForm},{default:n(()=>[o("Add")]),_:1},8,["onClick"])])]),i("div",ne,[e(s,{label:"Remark",name:"remark"},{default:n(()=>[e(D,{value:t.competition.remark,"onUpdate:value":l[13]||(l[13]=a=>t.competition.remark=a),rows:5},null,8,["value"])]),_:1})])])):m.setting_index==1?(r(),_("div",ie,[i("div",oe,[i("div",se,[e(s,{label:"Type",name:"type"},{default:n(()=>[e(g,{value:t.competition.type,"onUpdate:value":l[14]||(l[14]=a=>t.competition.type=a)},{default:n(()=>[e(u,{value:"I"},{default:n(()=>[o("Individual")]),_:1}),e(u,{value:"T"},{default:n(()=>[o("Teams")]),_:1})]),_:1},8,["value"])]),_:1})]),i("div",de,[e(s,{label:"Gender",name:"gender"},{default:n(()=>[e(g,{value:t.competition.gender,"onUpdate:value":l[15]||(l[15]=a=>t.competition.gender=a)},{default:n(()=>[e(u,{value:2},{default:n(()=>[o("male & female")]),_:1}),e(u,{value:1},{default:n(()=>[o("male")]),_:1}),e(u,{value:0},{default:n(()=>[o("female")]),_:1})]),_:1},8,["value"])]),_:1})]),t.competition.gender==1||t.competition.gender==2?(r(),_("div",ue,[e(s,{label:"Male categories",name:"categories_male"},{default:n(()=>[(r(!0),_(x,null,U(t.competition_categories,a=>(r(),_("div",{class:"",key:a.id},[i("div",me,b(a.name),1),i("div",re,b(v.changeWeightFormat(a.weights,"MW")),1)]))),128))]),_:1})])):y("",!0),t.competition.gender==0||t.competition.gender==2?(r(),_("div",_e,[e(s,{label:"Female categories",name:"categories_female"},{default:n(()=>[(r(!0),_(x,null,U(t.competition_categories,a=>(r(),_("div",{class:"",key:a.id},[i("div",ce,b(a.name),1),i("div",ve,b(v.changeWeightFormat(a.weights,"FW")),1)]))),128))]),_:1})])):y("",!0)])])):y("",!0),m.setting_index==2?(r(),_("div",fe,[i("div",ge,[e(s,{label:"Competition System",name:"system"},{default:n(()=>[e(g,{value:t.competition.system,"onUpdate:value":l[16]||(l[16]=a=>t.competition.system=a)},{default:n(()=>[e(u,{value:"Q"},{default:n(()=>[o("Quarter")]),_:1}),e(u,{value:"F"},{default:n(()=>[o("Full")]),_:1}),e(u,{value:"K"},{default:n(()=>[o("KO")]),_:1})]),_:1},8,["value"])]),_:1})]),i("div",pe,[e(s,{label:"Seeding",name:"seeding"},{default:n(()=>[e(g,{value:t.competition.seeding,"onUpdate:value":l[17]||(l[17]=a=>t.competition.seeding=a)},{default:n(()=>[e(u,{value:8},{default:n(()=>[o("8 players")]),_:1}),e(u,{value:4},{default:n(()=>[o("4 players")]),_:1}),e(u,{value:0},{default:n(()=>[o("no player")]),_:1})]),_:1},8,["value"])]),_:1})]),i("div",null,[e(s,{label:"5人以下"},{default:n(()=>[i("div",ye,[be,e(g,{value:t.competition.small_system[2],"onUpdate:value":l[18]||(l[18]=a=>t.competition.small_system[2]=a)},{default:n(()=>[e(u,{value:!1},{default:n(()=>[o("one Final")]),_:1})]),_:1},8,["value"])]),i("div",he,[xe,e(g,{value:t.competition.small_system[3],"onUpdate:value":l[19]||(l[19]=a=>t.competition.small_system[3]=a)},{default:n(()=>[e(u,{value:!1},{default:n(()=>[o("Round Robin")]),_:1}),e(u,{value:!0},{default:n(()=>[o("Semi-Finals + Final")]),_:1})]),_:1},8,["value"])]),i("div",ke,[we,e(g,{value:t.competition.small_system[4],"onUpdate:value":l[20]||(l[20]=a=>t.competition.small_system[4]=a)},{default:n(()=>[e(u,{value:!1},{default:n(()=>[o("Round Robin")]),_:1}),e(u,{value:!0},{default:n(()=>[o("Semi-Finals + one Bronze + Final")]),_:1})]),_:1},8,["value"])]),i("div",Ce,[Fe,e(g,{value:t.competition.small_system[5],"onUpdate:value":l[21]||(l[21]=a=>t.competition.small_system[5]=a)},{default:n(()=>[e(u,{value:!1},{default:n(()=>[o("Round Robin")]),_:1}),e(u,{value:!0},{default:n(()=>[o("Pool with 2 and pool with 3 - best each in Final, second in one Bronze")]),_:1})]),_:1},8,["value"])])]),_:1})])])):y("",!0),m.setting_index==3?(r(),_("div",Ue,[i("div",Se,[e(s,{label:"Open language secondary",name:"is_language_secondary_enabled"},{default:n(()=>[e(q,{checked:t.competition.competition_type.is_language_secondary_enabled,"onUpdate:checked":l[22]||(l[22]=a=>t.competition.competition_type.is_language_secondary_enabled=a),unCheckedValue:0,checkedValue:1},null,8,["checked"])]),_:1})]),i("div",Te,[i("div",De,[i("div",qe,[e(s,{label:"Name",name:"name"},{default:n(()=>[e(h,{type:"input",value:t.competition.name,"onUpdate:value":l[23]||(l[23]=a=>t.competition.name=a)},null,8,["value"])]),_:1})]),t.competition.competition_type.is_language_secondary_enabled==1?(r(),_("div",Ne,[e(s,{label:"Competition Name Secondary",name:"name_secondary"},{default:n(()=>[e(h,{type:"input",value:t.competition.name_secondary,"onUpdate:value":l[24]||(l[24]=a=>t.competition.name_secondary=a)},null,8,["value"])]),_:1})])):y("",!0)]),i("div",Ie,[i("div",Le,[e(s,{label:"Competition Language",name:["competition_type","language"],rules:[{required:!0,message:"Competition Language is required!"}]},{default:n(()=>[e(w,{value:t.competition.competition_type.language,"onUpdate:value":l[25]||(l[25]=a=>t.competition.competition_type.language=a),options:v.selectLanguage,fieldNames:{value:"value",label:"name"}},null,8,["value","options"])]),_:1})]),t.competition.competition_type.is_language_secondary_enabled==1?(r(),_("div",Re,[e(s,{label:"Competition Language Secondary",name:["competition_type","language_secondary"],rules:[{required:!0,message:"Competition Language Secondary is required!"}]},{default:n(()=>[e(w,{value:t.competition.competition_type.language_secondary,"onUpdate:value":l[26]||(l[26]=a=>t.competition.competition_type.language_secondary=a),options:v.selectLanguage,fieldNames:{value:"value",label:"name"}},null,8,["value","options"])]),_:1})])):y("",!0)])])])):y("",!0),i("div",Me,[e(s,null,{default:n(()=>[e(p,{class:"text-right",onClick:v.onUpdate},{default:n(()=>[o("Update")]),_:1},8,["onClick"])]),_:1})])])]),_:1},8,["model","rules","validate-messages"])])])])]),_:1})],64)}const ze=R(M,[["render",Ye]]);export{ze as default};
