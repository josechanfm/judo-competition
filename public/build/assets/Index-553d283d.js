import{A as v}from"./AdminLayout-ab9d13cb.js";import{m as l,o as u,f as h,a as t,w as a,F as c,b as o,d as s,t as x}from"./app-d9f75028.js";import{h as r}from"./moment-a9aaa855.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import"./judoka-logo-eef90ab5.js";import"./VideoCameraOutlined-6422ac09.js";const I={components:{AdminLayout:v},props:["countries","gameTypes","competitions","languages"],data(){return{dateFormat:"YYYY-MM-DD",disabledDate:null,tmpContestTime:null,modal:{isOpen:!1,mode:null,title:"Record Modal",data:{}},columns:[{title:"Name",dataIndex:"name"},{title:"Country",dataIndex:"country"},{title:"Date Start",dataIndex:"date_start"},{title:"Date End",dataIndex:"date_end"},{title:"Mat Number",dataIndex:"mat_number"},{title:"Section Number",dataIndex:"section_number"},{title:"Status",dataIndex:"status"},{title:"Operation",dataIndex:"operation"}],rules:{game_type_id:{required:!0},country:{required:!0},name:{required:!0},date_start:{required:!0},date_end:{required:!0},days:{required:!0},mat_number:{required:!0},section_number:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}}}},computed:{selectLanguage(){return this.languages.map(e=>{var d,m;return console.log(e),e.value==((d=this.modal.data)==null?void 0:d.competition_type.language)||e.value==((m=this.modal.data)==null?void 0:m.competition_type.language_secondary)?{...e,disabled:!0}:e})}},created(){this.disabledDate=e=>!this.modal.data.date_start&&!this.modal.data.date_end?!1:e<r(this.modal.data.date_start).valueOf()||e>r(this.modal.data.date_end).valueOf(),this.endDateDisabled=e=>this.modal.data.date_start?e<r(this.modal.date_start).valueOf():!1},methods:{onCreateRecord(){this.modal.title="Create",this.modal.isOpen=!0,this.modal.mode="CREATE",this.modal.data={days:[]},this.tmpContestTime=null},onEditRecord(e){this.modal.isOpen=!0,this.modal.title="Edit",this.modal.mode="EDIT",this.modal.data={...e},console.log(r().add(7,"days")),console.log(r(this.modal.data.date_start))},addTimeToForm(){this.modal.data.days.includes(this.tmpContestTime)||!this.tmpContestTime||this.modal.data.days.push(this.tmpContestTime)},removeTimeFromForm(e){this.modal.data.days=this.modal.data.days.filter(d=>d!==e)},onUpdate(){this.$refs.formRef.validateFields().then(()=>{this.$inertia.put(route("manage.competitions.update",this.modal.data.id),this.modal.data,{onSuccess:e=>{this.modal.data={},this.modal.title="",this.modal.isOpen=!1},onError:e=>{console.log(e)}}),console.log("values",this.modal.data,this.modal.data)}).catch(e=>{console.log("error",e)})},onCreate(){this.$refs.formRef.validateFields().then(()=>{this.$inertia.post(route("manage.competitions.store"),this.modal.data,{onSuccess:e=>{this.modal.data={},this.modal.isOpen=!1},onError:e=>{console.log(e)}}),console.log("values",this.modal.data,this.modal.data)}).catch(e=>{console.log("error",e)})}}},T=o("div",{class:"mx-4 py-4"},[o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Competition Manage")],-1),$={class:"py-12 mx-8"},q={class:"mb-8 flex justify-between"},D=o("div",{class:"text-xl font-bold"},"Competition Manage",-1),E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"};function M(e,d,m,O,_,w){const f=l("inertia-head"),i=l("a-button"),g=l("inertia-link"),b=l("a-table"),y=l("AdminLayout");return u(),h(c,null,[t(f,{title:"Competition Manage"}),t(y,null,{header:a(()=>[T]),default:a(()=>[o("div",$,[o("div",q,[D,o("div",null,[t(g,{href:e.route("manage.competitions.create")},{default:a(()=>[t(i,{class:"bg-white"},{default:a(()=>[s("Create Competition")]),_:1})]),_:1},8,["href"])])]),o("div",E,[t(b,{dataSource:m.competitions,columns:_.columns},{bodyCell:a(({column:p,record:n})=>[p.dataIndex==="operation"?(u(),h(c,{key:0},[t(i,{href:e.route("manage.competitions.edit",n.id)},{default:a(()=>[s("Edit")]),_:2},1032,["href"]),t(i,{href:e.route("manage.competition.athletes.index",n.id)},{default:a(()=>[s("Athletes")]),_:2},1032,["href"]),t(i,{href:e.route("manage.competition.programs.index",n.id)},{default:a(()=>[s("Manage")]),_:2},1032,["href"]),t(i,{href:e.route("manage.competition.progress",n.id)},{default:a(()=>[s("Progress")]),_:2},1032,["href"])],64)):(u(),h(c,{key:1},[s(x(n[p.dataIndex]),1)],64))]),_:1},8,["dataSource","columns"])])])]),_:1})],64)}const L=C(I,[["render",M]]);export{L as default};
