import{P as L}from"./ProgramLayout-1d440752.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import{m as c,o as i,f as r,a as l,w as d,F as h,b as e,p as f,c as w,d as g,t as a,n as V,g as S}from"./app-d9f75028.js";import"./judoka-logo-eef90ab5.js";import"./VideoCameraOutlined-6422ac09.js";/**
* @vue/compiler-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const W={components:{ProgramLayout:L},props:["competition"],data(){return{currentSection:{id:1,mats:{}},selectSection:1,dateFormat:"YYYY-MM-DD",columns:[{title:"In program Sequence",dataIndex:"in_program_sequence"},{title:"Sequence",dataIndex:"sequence"},{title:"Queue",dataIndex:"queue"},{title:"Round",dataIndex:"round"},{title:"White",dataIndex:"white"},{title:"Blue",dataIndex:"blue"},{title:"White from",dataIndex:"white_rise_from"},{title:"Blue from",dataIndex:"blue_rise_from"}],rules:{country:{required:!0},name:{required:!0},date_start:{required:!0},date_end:{required:!0}},validateMessages:{required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}}}},created(){for(var _=1;_<=this.competition.mat_number;_++)this.currentSection.mats[_]={sequence:1,program:{}};this.onMatChange()},methods:{onSectionChange(){Object.entries(this.currentSection.mats).forEach(([_,n])=>{n.bout={},n.program={},n.sequence=1})},onMatChange(){Object.entries(this.currentSection.mats).forEach(([_,n])=>{if(n.sequence<1)return n.sequence=1,!0;console.log(this.competition.programs_bouts);var u=this.competition.bouts.find(p=>p.section==this.currentSection.id&&p.mat==_&&p.sequence==n.sequence);u!=null?(n.bout=u,n.program=this.competition.programs.find(p=>p.id==n.bout.program_id)):n.sequence=this.competition.bouts.filter(p=>p.section==this.currentSection.id&&p.mat==_).length})}},watch:{"currentSection.id"(){console.log(this.currentSection)}}},Y={key:0,class:"flex pt-4"},j={class:"h-[90vh] resizable overflow-x-hidden"},z={class:"bg-white px-2"},F=e("div",{class:"font-bold text-2xl py-2"},"Competition Progress",-1),R={key:0},U={key:1},O={key:2},Q={key:3},T={class:"flex flex-col"},A={class:"overflow-x-auto"},G={class:"inline-block min-w-full"},H={class:"overflow-hidden"},J={class:"min-w-full text-center text-sm font-light"},K=e("thead",{class:"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600"},[e("tr",null,[e("th",{class:"py-4 w-10"},"Program"),e("th",{class:"py-4 w-10"},"Sequence"),e("th",{class:"py-4 w-10"},"In Program"),e("th",{class:"py-4 w-10"},"Queue"),e("th",{class:"py-4 w-10"},"White"),e("th",{class:"py-4 w-10"},"Blue")])],-1),X={class:"py-4 w-10"},Z={class:"py-4 w-10"},$={class:"py-4 w-10"},ee={class:"py-4 w-10"},te={class:"py-4 w-10"},ne={class:"py-4 w-10"},oe=e("div",{class:"bg-gray-200 p-4 grow"},"Resize this div",-1),se={key:1,class:"p-6"},ie=e("h3",{class:"font-bold text-lg"},"no schedule",-1),re=e("p",null,"no schedule hint",-1);function ae(_,n,u,p,s,y){const x=c("inertia-head"),q=c("a-page-header"),k=c("a-radio-button"),C=c("a-radio-group"),b=c("a-button"),I=c("a-input"),P=c("a-typography-title"),M=c("inertia-link"),B=c("a-empty"),D=c("a-card"),E=c("ProgramLayout");return i(),r(h,null,[l(x,{title:"Dashboard"}),l(E,{competitionId:u.competition.id},{default:d(()=>[l(q,{title:"Competition Progress"}),u.competition.status>=2?(i(),r("div",Y,[e("div",j,[e("div",z,[F,l(C,{value:s.currentSection.id,"onUpdate:value":n[0]||(n[0]=t=>s.currentSection.id=t),"button-style":"solid",onChange:n[1]||(n[1]=t=>y.onSectionChange())},{default:d(()=>[(i(!0),r(h,null,f(u.competition.section_number,t=>(i(),w(k,{key:t.id,value:t},{default:d(()=>[g(a(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),e("div",{class:V(["grid gap-6","grid-cols-"+u.competition.mat_number])},[(i(!0),r(h,null,f(u.competition.mat_number,t=>(i(),r("div",{key:t},[e("p",null," Section: "+a(s.currentSection.mats[t].program.section)+" / Mat: "+a(s.currentSection.mats[t].program.mat),1),l(b,{onClick:o=>{s.currentSection.mats[t].sequence--,y.onMatChange()}},{default:d(()=>[g("-")]),_:2},1032,["onClick"]),l(I,{type:"input",value:s.currentSection.mats[t].sequence,"onUpdate:value":o=>s.currentSection.mats[t].sequence=o,onChange:n[2]||(n[2]=o=>y.onMatChange()),style:{width:"80px","text-align":"center"}},null,8,["value","onUpdate:value"]),l(b,{onClick:o=>{s.currentSection.mats[t].sequence++,y.onMatChange()}},{default:d(()=>[g("+")]),_:2},1032,["onClick"]),e("p",null," Category: "+a(s.currentSection.mats[t].program.competition_category.name),1),e("p",null,"Weight: "+a(s.currentSection.mats[t].program.weight_code),1),s.currentSection.mats[t].bout?(i(),w(P,{key:0,level:3},{default:d(()=>{var o,m;return[s.currentSection.mats[t].bout.white==0?(i(),r("span",R,"---")):(i(),r("span",U,a((o=s.currentSection.mats[t].bout.white_player)==null?void 0:o.name_display),1)),g(" vs "),s.currentSection.mats[t].bout.white==0?(i(),r("span",O,"---")):(i(),r("span",Q,a((m=s.currentSection.mats[t].bout.blue_player)==null?void 0:m.name_display),1))]}),_:2},1024)):S("",!0),e("div",null,[e("div",T,[e("div",A,[e("div",G,[e("div",H,[e("table",J,[K,e("tbody",null,[(i(!0),r(h,null,f(u.competition.bouts,o=>{var m,v;return i(),r(h,null,[o.mat==t&&o.section==s.selectSection?(i(),r("tr",{key:o.id,class:"border-b dark:border-neutral-500 dark:bg-neutral-600 odd:bg-neutral-100"},[e("td",X,a(o.program_id),1),e("td",Z,a(o.sequence),1),e("td",$,a(o.in_program_sequence),1),e("td",ee,a(o.queue),1),e("td",te,a((m=o.white_player)==null?void 0:m.name_display),1),e("td",ne,a((v=o.blue_player)==null?void 0:v.name_display),1)])):S("",!0)],64)}),256))])])])])])])])]))),128))],2)])]),oe])):(i(),r("div",se,[l(D,null,{default:d(()=>[l(B,null,{description:d(()=>[ie,re,l(M,{href:_.route("manage.competition.programs.index",u.competition.id)},{default:d(()=>[l(b,{type:"primary",class:"bg-blue-500"},{default:d(()=>[g(" no schedule action ")]),_:1})]),_:1},8,["href"])]),_:1})]),_:1})]))]),_:1},8,["competitionId"])],64)}const pe=N(W,[["render",ae]]);export{pe as default};
